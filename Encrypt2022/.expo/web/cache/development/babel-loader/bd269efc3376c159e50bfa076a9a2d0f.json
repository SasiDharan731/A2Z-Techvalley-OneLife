{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Accelerometer } from 'expo-sensors';\nimport { ZoomOut } from 'react-native-reanimated';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { Audio } from 'expo-av';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var sound = useRef(new Audio.Sound());\n  useEffect(function () {\n    return function () {\n      return sound.current.unloadAsync();\n    };\n  }, []);\n\n  var playSound = function () {\n    var _ref = _asyncToGenerator(function* () {\n      console.log(\"Loading Sound\");\n      yield sound.current.createAsync(require(\"./assets/buzz.mp3\"));\n      console.log(\"playing sound\");\n      var checkLoaded = yield sound.current.getStatusAsync();\n\n      if (checkLoaded.isLoaded === true) {\n        console.log(\"Error in Loading mp3\");\n      } else {\n        yield sound.current.playAsync();\n      }\n    });\n\n    return function playSound() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState = useState({\n    x: 0,\n    y: 0,\n    z: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(\"Not accident\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      accident = _useState4[0],\n      setAccident = _useState4[1];\n\n  var _useState5 = useState(\"Null\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      gg = _useState6[0],\n      setgg = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      subscription = _useState8[0],\n      setSubscription = _useState8[1];\n\n  var _slow = function _slow() {\n    Accelerometer.setUpdateInterval(1000);\n  };\n\n  var _fast = function _fast() {\n    Accelerometer.setUpdateInterval(16);\n  };\n\n  var isAccident = function isAccident(x, y, z) {\n    var f = x * x + y * y + z * z;\n    var force = Math.sqrt(f);\n    var g = force / 9.81;\n    setgg(g);\n\n    if (g > 1) {\n      setAccident(\"Light accident\");\n    }\n\n    if (g > 2) {\n      setAccident(\"Accident\");\n    }\n\n    return;\n  };\n\n  var _subscribe = function _subscribe() {\n    setSubscription(Accelerometer.addListener(function (accelerometerData) {\n      setData(accelerometerData);\n    }));\n  };\n\n  var _unsubscribe = function _unsubscribe() {\n    subscription && subscription.remove();\n    setSubscription(null);\n  };\n\n  useEffect(function () {\n    _subscribe();\n\n    return function () {\n      return _unsubscribe();\n    };\n  }, []);\n  useEffect(function () {\n    isAccident(x, y, z);\n    console.log(accident);\n  }, [data.x, data.y, data.z]);\n  var x = data.x,\n      y = data.y,\n      z = data.z;\n  return _jsx(ScrollView, {\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(View, {\n        children: _jsx(Image, {\n          style: styles.accidentImage,\n          source: require(\"./assets/accident.jpg\")\n        })\n      }), _jsx(Text, {\n        style: styles.accidentText,\n        children: accident\n      }), _jsx(View, {\n        style: styles.buttonContainer,\n        children: _jsx(TouchableOpacity, {\n          onPress: subscription ? _unsubscribe : _subscribe,\n          style: styles.button,\n          children: _jsx(Text, {\n            style: {\n              fontSize: 20,\n              fontWeight: '700',\n              color: 'white',\n              backgroundColor: 'red'\n            },\n            children: subscription ? 'Cancel' : 'On'\n          })\n        })\n      }), _jsxs(View, {\n        style: {\n          marginTop: 130\n        },\n        children: [_jsx(Text, {\n          style: styles.text,\n          children: \"Accelerometer: (in Gs where 1 G = 9.81 m s^-2)\"\n        }), _jsxs(Text, {\n          style: styles.text,\n          children: [\"x: \", round(x), \" y: \", round(y), \" z: \", round(z)]\n        }), _jsx(Text, {\n          style: styles.text,\n          children: gg\n        })]\n      })]\n    })\n  });\n}\n\nfunction round(n) {\n  if (!n) {\n    return 0;\n  }\n\n  return Math.floor(n * 100) / 100;\n}\n\nvar styles = StyleSheet.create({\n  container1: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: '#ecf0f1',\n    padding: 10\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingHorizontal: 10\n  },\n  text: {\n    textAlign: 'center'\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    alignItems: 'stretch',\n    marginTop: 15\n  },\n  button: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'red',\n    borderRadius: 10,\n    width: 200,\n    padding: 11,\n    marginTop: 50,\n    marginBottom: 50\n  },\n  middleButton: {\n    borderLeftWidth: 1,\n    borderRightWidth: 1,\n    borderColor: '#ccc'\n  },\n  accidentImage: {\n    width: 380,\n    height: 270,\n    marginTop: 130\n  },\n  accidentText: {\n    fontSize: 22,\n    textAlign: 'center',\n    fontWeight: '700',\n    marginTop: 20\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","Accelerometer","ZoomOut","ScrollView","Audio","App","sound","Sound","current","unloadAsync","playSound","console","log","createAsync","require","checkLoaded","getStatusAsync","isLoaded","playAsync","x","y","z","data","setData","accident","setAccident","gg","setgg","subscription","setSubscription","_slow","setUpdateInterval","_fast","isAccident","f","force","Math","sqrt","g","_subscribe","addListener","accelerometerData","_unsubscribe","remove","styles","container","accidentImage","accidentText","buttonContainer","button","fontSize","fontWeight","color","backgroundColor","marginTop","text","round","n","floor","StyleSheet","create","container1","flex","justifyContent","padding","paddingHorizontal","textAlign","flexDirection","alignItems","borderRadius","width","marginBottom","middleButton","borderLeftWidth","borderRightWidth","borderColor","height"],"sources":["/Users/vishalchinnasamy/Desktop/Hackathons/PLI Blockathon/PLI_Blockathon/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View, Image, Button } from 'react-native';\nimport { Accelerometer } from 'expo-sensors';\nimport { ZoomOut } from 'react-native-reanimated';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { Audio } from 'expo-av';\n\nexport default function App() {\n\n  const sound = useRef(new Audio.Sound());\n\n    useEffect(() => {\n      return () => sound.current.unloadAsync();\n    }, []);\n  \n    const playSound = async () => {\n      console.log(\"Loading Sound\");\n  \n      await sound.current.createAsync(require(\"./assets/buzz.mp3\"));\n  \n      console.log(\"playing sound\");\n  \n      const checkLoaded = await sound.current.getStatusAsync();\n      if (checkLoaded.isLoaded === true) {\n        console.log(\"Error in Loading mp3\");\n      } else {\n        await sound.current.playAsync();\n      }\n    };\n\n  const [data, setData] = useState({\n    x: 0,\n    y: 0,\n    z: 0,\n  });\n\n  const [accident, setAccident] = useState(\"Not accident\")\n  const [gg, setgg] = useState(\"Null\")\n  const [subscription, setSubscription] = useState(null);\n\n  const _slow = () => {\n    Accelerometer.setUpdateInterval(1000);\n  };\n\n  const _fast = () => {\n    Accelerometer.setUpdateInterval(16);\n  };\n\n\n  const isAccident = (x, y, z) => {\n    let f = (x*x) + (y*y) + (z*z)\n    let force = Math.sqrt(f)\n\n    let g = force/9.81\n    setgg(g)\n    if(g > 1){\n        setAccident(\"Light accident\");\n        // playSound();\n    }\n\n    if(g > 2){\n      setAccident(\"Accident\")\n    }\n    return \n\n  }\n\n\n\n  const _subscribe = () => {\n    setSubscription(\n      Accelerometer.addListener(accelerometerData => {\n        setData(accelerometerData);\n        \n      })\n    );\n  };\n\n  const _unsubscribe = () => {\n    subscription && subscription.remove();\n    setSubscription(null);\n  };\n\n  useEffect(() => {\n    _subscribe();\n    return () => _unsubscribe();\n  }, []);\n\n  useEffect(() => {\n  isAccident(x,y,z)\n  console.log(accident);\n  }, [data.x, data.y, data.z]);\n\n\n\n  const { x, y, z } = data;\n  return (\n    <ScrollView>\n    <View style={styles.container}>\n        \n      \n      <View><Image style={styles.accidentImage} source={require('./assets/accident.jpg')}/></View>\n        \n      {/* <View style={styles.container1}>\n            <Button title=\"Play Sound\" onPress={playSound} />\n        </View> */}\n\n      <Text style={styles.accidentText}>{accident}</Text>\n\n      <View style={styles.buttonContainer}>\n        <TouchableOpacity onPress={subscription ? _unsubscribe : _subscribe} style={styles.button}>\n          <Text style={{fontSize:20, fontWeight: '700', color: 'white', backgroundColor: 'red'}}>{subscription ? 'Cancel' : 'On'}</Text>\n        </TouchableOpacity>\n        {/* <TouchableOpacity onPress={_slow} style={[styles.button, styles.middleButton]}>\n          <Text>Slow</Text>\n        </TouchableOpacity>\n        <TouchableOpacity onPress={_fast} style={styles.button}>\n          <Text>Fast</Text>\n        </TouchableOpacity> */}\n      </View>\n\n        \n\n      <View style={{marginTop: 130}}>\n        <Text style={styles.text}>Accelerometer: (in Gs where 1 G = 9.81 m s^-2)</Text>\n        <Text style={styles.text}>\n          x: {round(x)} y: {round(y)} z: {round(z)}\n        </Text>\n        <Text style={styles.text}>{gg}</Text>\n      </View>\n\n    </View>\n    </ScrollView>\n  );\n}\n\nfunction round(n) {\n  if (!n) {\n    return 0;\n  }\n  return Math.floor(n * 100) / 100;\n}\nconst styles = StyleSheet.create({\n    container1: {\n        flex: 1,\n        justifyContent: 'center',\n        backgroundColor: '#ecf0f1',\n        padding: 10,\n      },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingHorizontal: 10,\n    // marginBottom: 500\n  },\n  text: {\n    textAlign: 'center',\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    alignItems: 'stretch',\n    marginTop: 15,\n  },\n  button: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'red',\n    borderRadius: 10,\n    width: 200,\n    padding: 11,\n    marginTop: 50,\n    marginBottom: 50\n  },\n  middleButton: {\n    borderLeftWidth: 1,\n    borderRightWidth: 1,\n    borderColor: '#ccc',\n  },\n  accidentImage: {\n    width: 380,\n    height:270,\n    marginTop: 130\n  },\n  accidentText: {\n    fontSize: 22,\n    textAlign: 'center',\n    fontWeight: '700',\n    marginTop:20\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}